# Project Structure and Conventions (2025-09-21)

This document describes the current folder layout and organization rules applied to the Shaikh & Tonak replication project.

## Top-level layout

```
/                          # repo root
├─ data/                   # source & processed datasets
├─ src/                    # all code (extraction, analysis, replication)
├─ docs/                   # documentation & reports
│  ├─ reports/             # generated reports, summaries, HTML, JSON
│  ├─ planning/            # plans, inventories, spreadsheets, requirements
│  └─ *.md                 # methodology, status, indices
├─ logs/                   # top-level process logs
├─ HANDOFF/                # handoff materials for next agent
├─ archive/                # deprecated/legacy
└─ README.md
```

## Data
- `data/extracted_tables/` – extracted CSVs from PDFs (book, BLS, NIPA, etc.)
- `data/unified_database/` – integrated datasets
- `data/processed/` – curated/derived datasets when applicable
- `data/modern/` – contemporary data for extension analysis
- `data/source_pdfs/` – original PDF documents and extraction artifacts

## Code
- `src/extraction/` – PDF/data extraction tools
- `src/analysis/replication/` – replication pipeline, calculators, checks
- `src/analysis/replication/output/` – replication outputs (CSV/JSON/MD) kept near code for ease of regeneration
- `src/core/` – core utilities and shared functions
- `src/extension/` – modern period extension tools

## Docs
- **Core documentation** in `docs/` root (methodology, status, indices)
- **Methodology documentation** in `docs/methodology/` (comprehensive LaTeX docs, formulas)
- **Generated reports** in `docs/reports/` (not regenerated every run)
- **Planning materials** in `docs/planning/` (requirements, inventories, spreadsheets)
- **Validation documentation** in `docs/validation/` (cross-validation results)

## Logs
- All top-level `.log` files now live under `logs/`.
- Analysis- or script-specific logs may also appear under `src/analysis/replication/output/` for run-local context.

## Handoff
- `HANDOFF/README_HANDOFF.md` – authoritative guide for next-steps and acceptance criteria.
- `docs/HANDOFF_INDEX.md` – quick index linking to high-value artifacts.

## Conventions
- No interpolation; preserve book values; derived identities have distinct names.
- Outputs under `src/analysis/replication/output/` are regenerated by scripts and referenced by docs.
- Reports intended for sharing/reading are copied or summarized in `docs/reports/`.
- When relocating files, update references in docs/scripts or prefer adding indices/pointers to avoid breaking code.

## Archive Organization
- `archive/academic_papers/` – Academic papers by Tonak, Moos, Savran et al. providing theoretical context
- `archive/deprecated_code/` – Legacy code versions and deprecated scripts
- `archive/deprecated_databases/` – Previous database versions and raw data
- `archive/deprecated_docs/` – Previous documentation versions
- `archive/deprecated_outputs/` – Historical output files and artifacts
- `archive/legacy_systems/` – Deprecated processing systems and tools

## Notes
- Alignment report is generated at `src/analysis/replication/output/BOOK_TEXT_ALIGNMENT.md`; a convenience pointer exists at `docs/BOOK_TEXT_ALIGNMENT.md`.
- The final authentic table and validation summaries remain under `src/analysis/replication/output/` to support one-command regeneration and review.
- Academic papers in `archive/academic_papers/` provide crucial theoretical context for understanding Shaikh & Tonak's methodology evolution.
